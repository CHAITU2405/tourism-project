{% extends "base.html" %}

{% block title %}Booking Confirmation - TourismHub{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Success Header -->
            <div class="text-center mb-4">
                <div class="success-icon mb-3">
                    <i class="fas fa-check-circle text-success" style="font-size: 4rem;"></i>
                </div>
                <h1 class="text-success">Booking Confirmed!</h1>
                <p class="lead text-muted">Your hotel booking has been successfully confirmed.</p>
            </div>

            <!-- Booking Details Card -->
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-receipt me-2"></i>
                        Booking Details
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-muted">Booking Reference</h6>
                            <p class="h5 text-primary">{{ booking.booking_reference }}</p>
                            
                            <h6 class="text-muted mt-3">Hotel</h6>
                            <p class="h6">{{ booking.hotel.name }}</p>
                            <p class="text-muted">{{ booking.hotel.address }}, {{ booking.hotel.city }}</p>
                            
                            <h6 class="text-muted mt-3">Contact</h6>
                            <p class="mb-1">{{ booking.hotel.phone }}</p>
                            <p class="mb-0">{{ booking.hotel.email }}</p>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Check-in Date</h6>
                            <p class="h6">{{ booking.check_in.strftime('%B %d, %Y') }}</p>
                            
                            <h6 class="text-muted mt-3">Check-out Date</h6>
                            <p class="h6">{{ booking.check_out.strftime('%B %d, %Y') }}</p>
                            
                            <h6 class="text-muted mt-3">Duration</h6>
                            <p class="h6">{{ (booking.check_out - booking.check_in).days }} night{{ 's' if (booking.check_out - booking.check_in).days > 1 else '' }}</p>
                            
                            <h6 class="text-muted mt-3">Guests</h6>
                            <p class="h6">{{ booking.guests }} guest{{ 's' if booking.guests > 1 else '' }}</p>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-muted">Rooms</h6>
                            <p class="h6">{{ booking.rooms }} room{{ 's' if booking.rooms > 1 else '' }}</p>
                            
                            <h6 class="text-muted mt-3">Status</h6>
                            <span class="badge bg-success">{{ booking.status.title() }}</span>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Payment Status</h6>
                            <span class="badge bg-success">{{ booking.payment_status.title() }}</span>
                            
                            <h6 class="text-muted mt-3">Total Amount</h6>
                            <p class="h5 text-success">${{ "%.2f"|format(booking.total_amount) }}</p>
                        </div>
                    </div>
                    
                    {% if booking.special_requests %}
                    <hr>
                    <h6 class="text-muted">Special Requests</h6>
                    <p class="text-muted">{{ booking.special_requests }}</p>
                    {% endif %}
                </div>
            </div>

            <!-- Important Information -->
            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-info-circle me-2"></i>
                        Important Information
                    </h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Please arrive at the hotel on your check-in date
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Bring a valid ID for check-in
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Check-in time is typically 3:00 PM
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            Check-out time is typically 11:00 AM
                        </li>
                        <li class="mb-0">
                            <i class="fas fa-check text-success me-2"></i>
                            Keep your booking reference for any inquiries
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="text-center mt-4">
                <a href="{{ url_for('user_dashboard') }}" class="btn btn-primary me-3">
                    <i class="fas fa-tachometer-alt me-2"></i>
                    View Dashboard
                </a>
                <a href="{{ url_for('hotels') }}" class="btn btn-outline-primary me-3">
                    <i class="fas fa-search me-2"></i>
                    Find More Hotels
                </a>
                <button onclick="window.print()" class="btn btn-outline-secondary">
                    <i class="fas fa-print me-2"></i>
                    Print Confirmation
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Print Styles -->
<style>
@media print {
    .btn, .card-header, .text-center .btn {
        display: none !important;
    }
    .container {
        max-width: none !important;
    }
    .card {
        border: 1px solid #000 !important;
        box-shadow: none !important;
    }
}
</style>
{% endblock %}
